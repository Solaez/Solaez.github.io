
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programas</title>
    <link rel="stylesheet" href="games/css/style.css">
  <link rel="stylesheet" href="/games/css/mando.css">
  <link rel="stylesheet" href="/games/css/xbox.css">
  <link rel="stylesheet" href="/games/css/ps4.css">

    
</head>

<body translate="no">


    <div id="preloader">
        <img src="/data/img/icon/icon.png" alt="Logo" class="logo">
        <div class="loader-bar">
            <div class="progress"></div>
        </div>
    </div>

    
    

    <div class="circulo"></div>
    <div class="circulo"></div>
    <div class="circulo"></div>

    <div class="dark-light" style="display: none;">
        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
        </svg>
    </div>
    <div class="app" style="opacity: 0;">
        <div class="header" id="drag-area" >
          
            <div class="menu-circle" id="menu-circle"  >
                <button id="btn-close"></button>
                <button id="btn-maxi"></button>
                <button id="btn-minimize"></button>
            </div>
            <div class="header-menu">
                <a class="menu-link is-active notify" href="#">Online</a>
                <a class="menu-link " href="#">Sin conexion</a>
            </div>
            <div class="search-bar">
                <input type="text" id="search-input"  placeholder="Buscar...">
            </div>
            
            <div class="header-profile">

                <div class="notification" id="download-notification">
                    <span class="notification-number">0</span>
                    <svg viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" class="feather feather-download">
                        <path d="M21 18v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                </div>

                <div class="notification" id="notification">
                    <span class="notification-number">1</span>
                    <svg viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" class="feather feather-bell">
                        <path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 01-3.46 0"></path>
                    </svg>
                </div>
                
                
                <div class="card" id="card" style="display: none;">
                    <div class="messages">
                        <div class="message" >
                            <div class="message-icon"></div>
                            <div class="message-info">
                                <div class="message-header">
                                    <div class="message-title">Bienvenido</div>
                                </div>
                                <div class="message-content">Calidad de vida jsjsjsj</div>
                            </div>
                        </div>
                        
                    </div>
                </div>

                
                <div class="profile-menu">
                    <div class="profile-i" >
                        <img class="profile-img "id="profileToggle"
                            src="https://avatars.githubusercontent.com/u/165969268?v=4"
                            alt="user">
                    </div>
                    <div class="dropdown-menu" id="dropdownMenu">
                        <a href="#">Iniciar sesión</a>
                        <a href="#configuracion" id="menu-config" >Configuración</a>
                        <a href="#">Cerrar</a>
                    </div>
                </div>

                <div class="cicle-clous"></div>
            </div>
        </div>
        <div class="wrapper">
            <div class="left-side" id="filtros-categorias">
                <div class="side-wrapper">
                    <div class="side-title">Apps</div>
                    <div class="side-menu" >
                        <a href="#" class="categoria-link volver-btn" data-categoria="todos">
                            <svg viewBox="0 0 512 512">
                                <g xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                                    <path
                                        d="M0 0h128v128H0zm0 0M192 0h128v128H192zm0 0M384 0h128v128H384zm0 0M0 192h128v128H0zm0 0"
                                        data-original="#bfc9d1"></path>
                                </g>
                                <path xmlns="http://www.w3.org/2000/svg" d="M192 192h128v128H192zm0 0"
                                    fill="currentColor" data-original="#82b1ff"></path>
                                <path xmlns="http://www.w3.org/2000/svg"
                                    d="M384 192h128v128H384zm0 0M0 384h128v128H0zm0 0M192 384h128v128H192zm0 0M384 384h128v128H384zm0 0"
                                    fill="currentColor" data-original="#bfc9d1"></path>
                            </svg>
                            Todos
                        </a>
                        <a href="#" class="categoria-link volver-btn" data-categoria="Updates">
                            <svg viewBox="0 0 488.932 488.932" fill="currentColor">
                                <path
                                    d="M243.158 61.361v-57.6c0-3.2 4-4.9 6.7-2.9l118.4 87c2 1.5 2 4.4 0 5.9l-118.4 87c-2.7 2-6.7.2-6.7-2.9v-57.5c-87.8 1.4-158.1 76-152.1 165.4 5.1 76.8 67.7 139.1 144.5 144 81.4 5.2 150.6-53 163-129.9 2.3-14.3 14.7-24.7 29.2-24.7 17.9 0 31.8 15.9 29 33.5-17.4 109.7-118.5 192-235.7 178.9-98-11-176.7-89.4-187.8-187.4-14.7-128.2 84.9-237.4 209.9-238.8z">
                                </path>
                            </svg>
                            Actualizaciones
                            <span class="notification-number updates">0</span>
                        </a>
                        
                    </div>
                </div>
                <div class="side-wrapper">
                    <div class="side-title">Categories</div>
                    <div class="side-menu">
                        <a href="#" class="categoria-link volver-btn" data-categoria="Programs">
                            <svg viewBox="0 0 640 512" fill="currentColor" width="18" height="18" style="margin-right: 6px;">
                                <path d="M128 352h384c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32v224c0 17.7 14.3 32 32 32zm96 32c-8.8 0-16 7.2-16 16v32h-56c-13.3 0-24 10.7-24 24v8c0 13.3 10.7 24 24 24h384c13.3 0 24-10.7 24-24v-8c0-13.3-10.7-24-24-24h-56v-32c0-8.8-7.2-16-16-16H224z"/>
                            </svg>
                            Programas
                        </a>
                        <a href="#" class="categoria-link volver-btn" data-categoria="Drivers" >
                            <svg viewBox="0 0 512 512" fill="currentColor" width="18" height="18" style="margin-right: 6px;">
                                <path d="M160 0c8.8 0 16 7.2 16 16v32h32V16c0-8.8 7.2-16 16-16s16 7.2 16 16v32h32V16c0-8.8 7.2-16 16-16s16 7.2 16 16v32h32V16c0-8.8 7.2-16 16-16s16 7.2 16 16v32h16c35.3 0 64 28.7 64 64v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h16c8.8 0 16 7.2 16 16s-7.2 16-16 16h-16v32c0 35.3-28.7 64-64 64h-32v32c0 8.8-7.2 16-16 16s-16-7.2-16-16v-32h-32v32c0 8.8-7.2 16-16 16s-16-7.2-16-16v-32h-32v32c0 8.8-7.2 16-16 16s-16-7.2-16-16v-32h-32v32c0 8.8-7.2 16-16 16s-16-7.2-16-16v-32h-16c-35.3 0-64-28.7-64-64v-32H16c-8.8 0-16-7.2-16-16s7.2-16 16-16h32v-32H16c-8.8 0-16-7.2-16-16s7.2-16 16-16h32v-32H16c-8.8 0-16-7.2-16-16s7.2-16 16-16h32v-32H16c-8.8 0-16-7.2-16-16s7.2-16 16-16h32V80c0-35.3 28.7-64 64-64h16V16c0-8.8 7.2-16 16-16zm-64 96v320c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32z"/>
                            </svg>
                            Drivers
                        </a>
                        <a href="#"  class="categoria-link volver-btn" data-categoria="Games" id="restore-btn">
                            <svg viewBox="0 0 640 512" fill="currentColor" width="18" height="18" style="margin-right: 6px;">
                                <path
                                    d="M480.1 96H159.9C71.6 96 0 167.6 0 255.9c0 55.3 28.7 106.4 75.8 135.6l38.3 23.8c14.6 9.1 32.7 10.3 48.3 3.2l76.4-34.5c8.7-3.9 18.3-5.9 27.9-5.9h106.7c9.6 0 19.2 2 27.9 5.9l76.4 34.5c15.6 7.1 33.7 5.9 48.3-3.2l38.3-23.8c47.1-29.2 75.8-80.3 75.8-135.6C640 167.6 568.4 96 480.1 96zM208 248H176v32c0 8.8-7.2 16-16 16s-16-7.2-16-16v-32H112c-8.8 0-16-7.2-16-16s7.2-16 16-16h32v-32c0-8.8 7.2-16 16-16s16 7.2 16 16v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16zm232 64a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm64-96a32 32 0 1 1 0-64 32 32 0 1 1 0 64z" />
                            </svg>
                            Juegos
                        </a>
                        <a href="#" class="categoria-link volver-btn" data-categoria="Desarrollos" id="restore-btn">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18" style="margin-right: 6px;">
                                <path
                                    d="M8.17 6.41L6.75 5l-5 5 5 5 1.41-1.41L4.83 10l3.34-3.59zM15.83 17.59L17.25 19l5-5-5-5-1.41 1.41L19.17 14l-3.34 3.59zM13 4h-2v16h2V4z" />
                            </svg>
                            Desarrollos
                        </a>
                        <a href="#" class="categoria-link volver-btn" data-categoria="Diseño" id="restore-btn">
                           <svg viewBox="0 0 512 512" fill="currentColor">
                                <path
                                    d="M499.377 46.402c-8.014-8.006-18.662-12.485-29.985-12.613a41.13 41.13 0 00-.496-.003c-11.142 0-21.698 4.229-29.771 11.945L198.872 275.458c25.716 6.555 47.683 23.057 62.044 47.196a113.544 113.544 0 0110.453 23.179L500.06 106.661C507.759 98.604 512 88.031 512 76.89c0-11.507-4.478-22.33-12.623-30.488zM176.588 302.344a86.035 86.035 0 00-3.626-.076c-20.273 0-40.381 7.05-56.784 18.851-19.772 14.225-27.656 34.656-42.174 53.27C55.8 397.728 27.795 409.14 0 416.923c16.187 42.781 76.32 60.297 115.752 61.24 1.416.034 2.839.051 4.273.051 44.646 0 97.233-16.594 118.755-60.522 23.628-48.224-5.496-112.975-62.192-115.348z">
                                </path>
                            </svg>
                            Diseño
                        </a>
                        <a href="#" class="categoria-link volver-btn" data-categoria="Emulaters">
                            <svg viewBox="0 0 58 58" fill="currentColor">
                                <path
                                    d="M57 6H1a1 1 0 00-1 1v44a1 1 0 001 1h56a1 1 0 001-1V7a1 1 0 00-1-1zM10 50H2v-9h8v9zm0-11H2v-9h8v9zm0-11H2v-9h8v9zm0-11H2V8h8v9zm26.537 12.844l-11 7a1.007 1.007 0 01-1.018.033A1.001 1.001 0 0124 36V22a1.001 1.001 0 011.538-.844l11 7a1.003 1.003 0 01-.001 1.688zM56 50h-8v-9h8v9zm0-11h-8v-9h8v9zm0-11h-8v-9h8v9zm0-11h-8V8h8v9z">
                                </path>
                            </svg>
                            Emuladores
                        </a>
                        <a id="menu-rom">
                            <svg viewBox="0 0 58 58" fill="currentColor">
                                <path
                                    d="M57 6H1a1 1 0 00-1 1v44a1 1 0 001 1h56a1 1 0 001-1V7a1 1 0 00-1-1zM10 50H2v-9h8v9zm0-11H2v-9h8v9zm0-11H2v-9h8v9zm0-11H2V8h8v9zm26.537 12.844l-11 7a1.007 1.007 0 01-1.018.033A1.001 1.001 0 0124 36V22a1.001 1.001 0 011.538-.844l11 7a1.003 1.003 0 01-.001 1.688zM56 50h-8v-9h8v9zm0-11h-8v-9h8v9zm0-11h-8v-9h8v9zm0-11h-8V8h8v9z">
                                </path>
                            </svg>
                            Juegos Roms
                        </a>
                        <a href="#"  class="categoria-link volver-btn" data-categoria="Proyects">
                        <svg viewBox="0 0 512 512" fill="currentColor">
                            <path
                                d="M0 331v112.295a14.996 14.996 0 007.559 13.023L106 512V391L0 331zM136 391v121l105-60V331zM271 331v121l105 60V391zM406 391v121l98.441-55.682A14.995 14.995 0 00512 443.296V331l-106 60zM391 241l-115.754 57.876L391 365.026l116.754-66.15zM262.709 1.583a15.006 15.006 0 00-13.418 0L140.246 57.876 256 124.026l115.754-66.151L262.709 1.583zM136 90v124.955l105 52.5V150zM121 241L4.246 298.876 121 365.026l115.754-66.15zM271 150v117.455l105-52.5V90z">
                            </path>
                        </svg>
                            Proyectos
                        </a>
                    </div>
                    
                </div>
                
            </div>
            
        <!-- Panel de configuración (esto se mostrará cuando entres a la configuración) -->
        <div class="left-side" id="config-all" style="display: none;">
        <div class="side-wrapper">
            <div class="side-title">Opciones</div>
            <div class="side-menu">
            <a href="#config-content" class="btn_config" >
                <!-- SVG y texto de configuración aquí -->
                Configuraciones
            </a>
            <a href="#" class="btn_teclado" >
                <!-- SVG y texto de test teclado aquí -->
                Test teclado
            </a>
            <a href="#" class="btn_mando" >
                <!-- SVG y texto de test teclado aquí -->
                Test mando
            </a>
            </div>
        </div>
        </div>

            <div class="main-container">
                <div class="main-header">
                    <a class="menu-link-main volver-btn categoria-link" href="#" id="volver2">Volver</a>
                    <button class="menu-link-main" id="volver">Volver</button>

                    <div class="header-menu subtlile" >
                        <a class="main-header-link is-active" style="display: none;" href="#">Escritorio</a>
                        <a class="main-header-link" href="mario.html">Nueva version disponible sjjssj XD v2.0</a>
                        <a class="main-header-link" href="#" style="display: none;">Script / CMD</a>

                    </div>
                </div>
                <div class="content-wrapper">

                    <!-- mensaje ----------------------------------------------------------------------------- -->
                    <div class="pop-up">
                        <div class="pop-up__title">Update This App
                            <svg class="close" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M15 9l-6 6M9 9l6 6"></path>
                            </svg>
                        </div>
                        <div class="pop-up__subtitle">Adjust your selections for advanced options as
                            desired before continuing. <a href="#">Learn more</a></div>
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="check1" class="checkbox">
                            <label for="check1">Import previous settings and preferences</label>
                        </div>
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="check2" class="checkbox">
                            <label for="check2">Remove old versions</label>
                        </div>
                        <div class="content-button-wrapper">
                            <button class="content-button status-button open close">Cancel</button>
                            <button class="content-button status-button">Continue</button>
                        </div>
                    </div>
                    
                    <!-- mensaje fin ----------------------------------------------------------------------------- -->

                    <!-- contenido ----------------------------------------------------------------------------- -->
                    <div class="content-wrapper-header" style="display: none;">
                        <div class="content-wrapper-context">
                            <h3 class="img-content">
                                <svg viewBox="0 0 512 512">
                                    <path
                                        d="M467 0H45C20.099 0 0 20.099 0 45v422c0 24.901 20.099 45 45 45h422c24.901 0 45-20.099 45-45V45c0-24.901-20.099-45-45-45z"
                                        fill="#d6355b" data-original="#ff468c"></path>
                                    <path xmlns="http://www.w3.org/2000/svg"
                                        d="M512 45v422c0 24.901-20.099 45-45 45H256V0h211c24.901 0 45 20.099 45 45z"
                                        fill="#d6355b" data-original="#d72878"></path>
                                    <path xmlns="http://www.w3.org/2000/svg"
                                        d="M467 30H45c-8.401 0-15 6.599-15 15v422c0 8.401 6.599 15 15 15h422c8.401 0 15-6.599 15-15V45c0-8.401-6.599-15-15-15z"
                                        fill="#2e000a" data-original="#700029"></path>
                                    <path xmlns="http://www.w3.org/2000/svg"
                                        d="M482 45v422c0 8.401-6.599 15-15 15H256V30h211c8.401 0 15 6.599 15 15z"
                                        fill="#2e000a" data-original="#4d0e06"></path>
                                    <path xmlns="http://www.w3.org/2000/svg"
                                        d="M181 391c-41.353 0-75-33.647-75-75 0-8.291 6.709-15 15-15s15 6.709 15 15c0 24.814 20.186 45 45 45s45-20.186 45-45-20.186-45-45-45c-41.353 0-75-33.647-75-75s33.647-75 75-75 75 33.647 75 75c0 8.291-6.709 15-15 15s-15-6.709-15-15c0-24.814-20.186-45-45-45s-45 20.186-45 45 20.186 45 45 45c41.353 0 75 33.647 75 75s-33.647 75-75 75z"
                                        fill="#d6355b" data-original="#ff468c"></path>
                                    <path xmlns="http://www.w3.org/2000/svg"
                                        d="M391 361h-30c-8.276 0-15-6.724-15-15V211h45c8.291 0 15-6.709 15-15s-6.709-15-15-15h-45v-45c0-8.291-6.709-15-15-15s-15 6.709-15 15v45h-15c-8.291 0-15 6.709-15 15s6.709 15 15 15h15v135c0 24.814 20.186 45 45 45h30c8.291 0 15-6.709 15-15s-6.709-15-15-15z"
                                        fill="#d6355b" data-original="#d72878"></path>
                                </svg>
                                Adobe Stock
                            </h3>
                            <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                trial plan and find perfect image, that will help you with your new project.</div>
                            <button class="content-button">Start free trial</button>
                        </div>
                        <img class="content-wrapper-img" src="https://assets.codepen.io/3364143/glass.png" alt="">
                    </div>

                    <div id="download-history" style="display: none;">
                        <h3>Gestionador de Descargas</h3>
                        <div id="history-content"></div>
                    </div>

                    <div id="config-panel" style="display: none;">
                            <div id="config-content">
                                <!-- Aquí está el contenido principal de configuraciones -->
                                <h2>Configuración</h2>
                                <br>
                                <br>
                                <label>
                                    <select id="theme">
                                        <option value="dark">Oscuro</option>
                                        <option value="light">Claro</option>
                                    </select>
                                    Tema
                                </label>

                                <br>
                                
                                <!-- <label>
                                    <label >ubicacion actual: c: descargas ''</label>
                                    <input type="file" id="download-path" placeholder="Seleccionar ruta..." />
                                </label>
                                <br><br> -->
                                
                                <label>
                                    <select id="barvisual">
                                        <option value="windows">Windows</option>
                                        <option value="mac">Mac</option>
                                    </select>
                                    Estilo visual
                                </label>
                                <br>
                                
                                <label>
                                    <input type="checkbox" id="disable-notifications" />
                                    Desactivar notificaciones
                                </label>
                                <br>

                                <label>
                                    <a href="/data/site/home.html">modo nintendo Swict (BETA)</a>
                                </label>
                                <br>

                                <!-- <label>
                                    <input type="checkbox" id="start-with-windows" />
                                    Arrancar con Windows
                                </label> -->
                                <br>
                                <div class="btn-list">
                                    <button class="btn-con" onclick="checkUpdates()">Verificar actualizaciones</button>
                                    <br>
                                    
                                    <button class="btn-con" id="btn-devtools">AbrirDevTools</button>
                                    <br>
                                    <button class="btn-con" id="btn-devtools-rom-n64">AbrirDevTools Webview</button>
                                    <br>
                                    
                                    <button class="btn-con" onclick="guardarConfiguracion()">Guardar</button>
                                </div>
                                <script>
                                    async function cargarConfiguracion() {
                                        const config = await window.electronAPI.loadConfig();
                                        document.getElementById('disable-notifications').checked = config.disableNotifications;
                                        document.getElementById('theme').value = config.theme;
                                        document.getElementById('barvisual').value = config.barvisual;

                                        aplicarTema(config.theme);
                                        aplicarEstiloBarra(config.barvisual);
                                    }

                                    function guardarConfiguracion() {
                                        const disableNotifications = document.getElementById('disable-notifications').checked;
                                        const theme = document.getElementById('theme').value;
                                        const barvisual = document.getElementById('barvisual').value;

                                        window.electronAPI.saveConfig({ disableNotifications, theme, barvisual });

                                        aplicarTema(theme);
                                        aplicarEstiloBarra(barvisual);
                                    }

                                    function aplicarTema(theme) {
                                        const body = document.body;
                                        body.className = ''; // Quitar todas las clases

                                        if (theme === 'dark') {
                                            body.classList.add('light-theme'); // Si es oscuro
                                        } else if (theme === 'light') {
                                            body.classList.add('light-theme', 'light-mode'); // Si es claro
                                        }
                                    }

                                    function aplicarEstiloBarra(estilo) {
                                        const header = document.getElementById('menu-circle');
                                        const headerProfile = document.querySelector('.cicle-clous');
                                        const btnClose = document.getElementById('btn-close');
                                        const btnMaxi = document.getElementById('btn-maxi');
                                        const btnMinimize = document.getElementById('btn-minimize');

                                        // Mueve los botones al contenedor correspondiente según el estilo visual
                                        if (estilo === 'windows') {
                                            // Si está en modo Windows, se agrega a .header-profile
                                            headerProfile.appendChild(btnClose);
                                            headerProfile.appendChild(btnMaxi);
                                            headerProfile.appendChild(btnMinimize);

                                            // Asegúrate de que .header en modo Windows no tenga la clase windows-mode
                                            header.classList.remove('windows-mode');
                                        } else if (estilo === 'mac') {
                                            // Si está en modo Mac, se agregan al contenedor .header como primeros elementos
                                            header.insertBefore(btnClose, header.firstChild);
                                            header.insertBefore(btnMaxi, header.firstChild);
                                            header.insertBefore(btnMinimize, header.firstChild);

                                            // Asegúrate de que .header en modo Mac tenga la clase windows-mode
                                            header.classList.add('windows-mode');
                                        }
                                    }

                                    window.addEventListener('DOMContentLoaded', cargarConfiguracion);
                                </script>


                            </div>
                            
                            <div id="test-teclado" style="display: none;">
                               <div class="test-teclado">
    <div id="key-display">
      <h2>Teclas presionadas</h2>
      <div id="keys"></div>
    </div>
    
    <div id="mouse-buttons">
      <h2>Botones del Mouse</h2>
      <span id="btn-left" class="mouse-button">Izquierdo</span>
      <span id="btn-middle" class="mouse-button">Medio</span>
      <span id="btn-right" class="mouse-button">Derecho</span>
    </div>
    
    <div id="mouse-position">
      <h2>Posición del Mouse</h2>
      <div id="pos">X: 0, Y: 0</div>
    </div>
    
    <!-- Historial de teclas y botones -->
    <div id="history">
      <h3>Historial</h3>
      <div id="history-list"></div>
    </div>
    
    <script>
      const keysContainer = document.getElementById("keys");
      const pressedKeys = new Set();
      const historyList = document.getElementById("history-list");

      // Set para llevar el historial sin repeticiones
      const historySet = new Set();

      // Función para agregar un historial si no existe
      function addHistory(item) {
        // Si el item ya está en el historial, no lo agregamos
        if (!historySet.has(item)) {
          const historyItem = document.createElement("div");
          historyItem.classList.add("history-item");
          historyItem.textContent = item;

          // Insertar el historial al principio para mostrarlo de arriba hacia abajo
          historyList.insertBefore(historyItem, historyList.firstChild);
          historySet.add(item);
        }

        // Mantener solo los últimos 10 elementos
        if (historyList.children.length > 10) {
          historySet.delete(historyList.lastChild.textContent);
          historyList.removeChild(historyList.lastChild);
        }
      }
      document.addEventListener("keydown", (e) => {
        e.preventDefault();  // Bloquear comportamiento por defecto

        const key = e.key.toUpperCase();  // Convertir la tecla a mayúscula

        if (!pressedKeys.has(key)) {
          pressedKeys.add(key);
          const keyEl = document.createElement("div");
          keyEl.className = "key active";
          keyEl.id = `key-${key}`;
          keyEl.textContent = key;
          keysContainer.appendChild(keyEl);
          addHistory(`Tecla presionada: ${key}`);
        }
      });

      document.addEventListener("keyup", (e) => {
        const key = e.key.toUpperCase();
        pressedKeys.delete(key);
        const keyEl = document.getElementById(`key-${key}`);
        if (keyEl) keyEl.remove();
      });


      const leftBtn = document.getElementById("btn-left");
      const middleBtn = document.getElementById("btn-middle");
      const rightBtn = document.getElementById("btn-right");

      // Detectar los botones del mouse
      document.addEventListener("mousedown", (e) => {
        if (e.button === 0) {
          leftBtn.classList.add("active");
          addHistory("Botón izquierdo del mouse presionado");
        }
        if (e.button === 1) {
          middleBtn.classList.add("active");
          addHistory("Botón del medio del mouse presionado");
        }
        if (e.button === 2) {
          rightBtn.classList.add("active");
          addHistory("Botón derecho del mouse presionado");
        }
      });

      document.addEventListener("mouseup", (e) => {
        if (e.button === 0) leftBtn.classList.remove("active");
        if (e.button === 1) middleBtn.classList.remove("active");
        if (e.button === 2) rightBtn.classList.remove("active");
      });

      // Mostrar las coordenadas del mouse
      document.addEventListener("mousemove", (e) => {
        document.getElementById("pos").textContent = `X: ${e.clientX}, Y: ${e.clientY}`;
      });
    </script>
  </div>
                            </div>

                            <div id="test-mando" style="display: none;">
                            <h1>Test de Mando</h1>
                            <p id="status">Conecta un mando y presiona un botón.</p>
                            <div class="mando">
                                <div class="joystick-area">
                                    <div class="joystick-container l"></div>
                                    <div class="joystick-container"></div>

                                </div>

                                <div class="labels">
                                    <div class="axis-values" id="left-values">
                                        <strong>Izquierdo</strong><br />X: 0<br />Y: 0
                                    </div>
                                    <div class="axis-values" id="right-values">
                                        <strong>Derecho</strong><br />X: 0<br />Y: 0
                                    </div>
                                </div>

                                <div class="buttons-grid" id="buttons-container"></div>

                            </div>
                            <script>
                                const ps4Labels = [
                                    "⨉", "◯", "◻", "△",
                                    "L1", "R1", "L2", "R2",
                                    "Share", "Options", "L3", "R3",
                                    "▴", "▾", "◂", "▸",
                                    "PS", "Touch"
                                ];

                                const xboxLabels = [
                                    "A", "B", "X", "Y",
                                    "LB", "RB", "LT", "RT",
                                    "◲", "≡", "LS", "RS",
                                    "▴", "▾", "◂", "▸",
                                    "•", "—"
                                ];

                                const defaultLabels = Array.from({ length: 18 }, (_, i) => i.toString());

                                let currentLabels = defaultLabels;
                                const buttonsContainer = document.getElementById("buttons-container");

                                // Crear botón de vibración (oculto por defecto)
                               const vibrationButton = document.createElement("button");
                                vibrationButton.textContent = "Vibrar";
                                vibrationButton.style.display = "none";
                                vibrationButton.classList.add("btn-vibrar"); // ← Aquí agregas la clase

                                // Agregar el botón dentro del div con id="test-mando"
                                document.getElementById("test-mando").appendChild(vibrationButton);

                                function setButtonLabels(type) {
                                    const mando = document.querySelector('.mando');

                                    mando.classList.add('changing'); // Añade clase de animación

                                    setTimeout(() => {
                                        mando.classList.remove('changing'); // La remueve luego de animar
                                    }, 300); // Tiempo igual a la duración de la animación

                                    mando.classList.remove('ps4-style');

                                    if (type.includes("Wireless") || type.toLowerCase().includes("playstation")) {
                                        currentLabels = ps4Labels;
                                        mando.classList.add('ps4-style');
                                        mando.style.backgroundImage = "url('/ps4.png')";
                                    } else if (type.toLowerCase().includes("xinput") || type.toLowerCase().includes("xbox")) {
                                        currentLabels = xboxLabels;
                                        mando.style.backgroundImage = "url('/xbox.png')";
                                    } else {
                                        currentLabels = defaultLabels;
                                        mando.style.backgroundImage = "url('/xbox.png')";
                                    }

                                    buttonsContainer.innerHTML = "";
                                    for (let i = 0; i < 18; i++) {
                                        const btn = document.createElement("div");
                                        btn.classList.add("button", `button-${i + 1}`);
                                        btn.id = `btn-${i}`;
                                        btn.textContent = currentLabels[i] || i;
                                        buttonsContainer.appendChild(btn);
                                    }
                                }


                                function updateJoysticks(gp) {
                                    const [lx, ly, rx, ry] = gp.axes;
                                    const maxMove = 30;
                                    const l3Button = document.getElementById('btn-10');
                                    const r3Button = document.getElementById('btn-11');
                                    if (l3Button) {
                                        l3Button.style.transform = `translate(${lx * maxMove}px, ${ly * maxMove}px)`;
                                    }
                                    if (r3Button) {
                                        r3Button.style.transform = `translate(${rx * maxMove}px, ${ry * maxMove}px)`;
                                    }
                                    document.getElementById("left-values").innerHTML =
                                        `<strong>Izquierdo</strong><br>X: ${lx.toFixed(2)}<br>Y: ${ly.toFixed(2)}`;
                                    document.getElementById("right-values").innerHTML =
                                        `<strong>Derecho</strong><br>X: ${rx.toFixed(2)}<br>Y: ${ry.toFixed(2)}`;
                                }

                                function updateButtons(gp) {
                                    for (let i = 0; i < 18; i++) {
                                        const button = document.getElementById(`btn-${i}`);
                                        if (!button) continue;
                                        if (gp.buttons[i]?.pressed) {
                                            button.classList.add("active");
                                        } else {
                                            button.classList.remove("active");
                                        }
                                    }
                                }

                                let gamepadIndex = null;
                                let lastGamepadId = null;

                                function gameLoop() {
                                    const gamepads = navigator.getGamepads();
                                    const gp = gamepadIndex !== null ? gamepads[gamepadIndex] : null;

                                    if (gp) {
                                        if (gp.id !== lastGamepadId) {
                                            lastGamepadId = gp.id;
                                            setButtonLabels(gp.id);
                                            document.getElementById("status").textContent = `Mando activo: ${gp.id}`;

                                            // Mostrar el botón de vibración si es compatible
                                            if (gp.vibrationActuator && typeof gp.vibrationActuator.playEffect === "function") {
                                                vibrationButton.style.display = "block";
                                                vibrationButton.onclick = () => {
                                                    gp.vibrationActuator.playEffect("dual-rumble", {
                                                        startDelay: 0,
                                                        duration: 500,
                                                        weakMagnitude: 0.75,
                                                        strongMagnitude: 1.0
                                                    });
                                                };
                                            } else {
                                                vibrationButton.style.display = "none";
                                            }
                                        }

                                        updateJoysticks(gp);
                                        updateButtons(gp);
                                    }

                                    requestAnimationFrame(gameLoop);
                                }

                                window.addEventListener("gamepadconnected", (e) => {
                                    gamepadIndex = e.gamepad.index;
                                    const name = e.gamepad.id;
                                    document.getElementById("status").textContent = `Mando conectado: ${name}`;
                                    setButtonLabels(name);
                                });

                                window.addEventListener("gamepaddisconnected", () => {
                                    gamepadIndex = null;
                                    document.getElementById("status").textContent = "Mando desconectado.";
                                    vibrationButton.style.display = "none";
                                });

                                requestAnimationFrame(gameLoop);
                            </script>
                            </div>


                    </div>
                    
                    <div id="rom-fum" style="display: none;">
                    <div id="loader">Cargando...</div>

                        <webview id="rom-n64" class="view-rom" style="display: none ; height:80vh; width:100% "src="https://romsfun.com/roms/nintendo-3ds" 
                              useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"

                            allowpopups>
                        </webview>
                        <webview id="rom-ds" class="view-rom" style="display: none; height:80vh; width:100%" src="https://romsfun.com/roms/nintendo-ds"
                            style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-3dds" class="view-rom" style="display: none; height:80vh; width:100%"
                            src="https://romsfun.com/roms/nintendo-3ds" style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-nwii" class="view-rom" style="display: none; height:80vh; width:100%" src="https://romsfun.com/roms/nintendo-wii"
                            style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-nwiiu" class="view-rom" style="display: none; height:80vh; width:100%" src="https://romsfun.com/roms/wii-u"
                            style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-ncube" class="view-rom" style="display: none; height:80vh; width:100%"
                            src="https://romsfun.com/roms/gamecube" style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-nsnes" class="view-rom" style="display: none; height:80vh; width:100%"
                            src="https://romsfun.com/roms/super-nintendo" style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-nes" class="view-rom" style="display: none; height:80vh; width:100%"
                            src="https://romsfun.com/roms/nes" style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-gba" class="view-rom" style="display: none; height:80vh; width:100%" src="https://romsfun.com/roms/game-boy-advance"
                            style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-gbac" class="view-rom" style="display: none; height:80vh; width:100%"
                            src="https://romsfun.com/roms/game-boy-color" style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-psp" class="view-rom" style="display: none; height:80vh; width:100%" src="https://romsfun.com/roms/playstation-portable"
                            style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-ps2" class="view-rom" style="display: none; height:80vh; width:100%" src="https://romsfun.com/roms/playstation-2"
                            style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-ps3" class="view-rom" style="display: none; height:80vh; width:100%"
                            src="https://romsfun.com/roms/ps3" style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-ps4" class="view-rom" style="display: none; height:80vh; width:100%" src="https://romsfun.com/roms/playstation-4"
                            style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-psvita" class="view-rom" style="display: none; height:80vh; width:100%"
                            src="https://romsfun.com/roms/ps-vita" style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-xbox" class="view-rom" style="display: none; height:80vh; width:100%"
                            src="https://romsfun.com/roms/xbox" style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        <webview id="rom-xbox360" class="view-rom" style="display: none; height:80vh; width:100%"
                            src="https://romsfun.com/roms/xbox-360" style="width:100%; height:90vh;"
                            useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                            allowpopups>
                        </webview>
                        
                    </div>
                    
                    <div class="manuela" style="display: none;">
                        <div class="content-wrapper-header" >
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                                    Nintendo 64
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="n64">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/d78fafb91f61bfc90ec20840630d2b65.png" alt="">
                        </div>

                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                                   
                                    Nintendo DS
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="ds">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/icon/9a1470c3ad1535f93736e090991e5794.ico" alt="">
                        </div>
                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                                   
                                    Nintendo 3DS
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="3dds">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/1f8928132a042e7ec2098db0cc65fc42.png" alt="">
                        </div>

                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Nintendo Wii
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="nwii">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/0fed8f3a7b01206e865830667ee747d0.png"
                                alt="">
                        </div>

                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Nintendo Wii U
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="nwiiu">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/e5265c48d8569f6fff44ad44f0e57342.png"
                                alt="">
                        </div>

                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Nintendo GameCube
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="ncube">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/845e511017cac015863e945fe4c2967c.png"
                                alt="">
                        </div>
                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Nintendo Super Nintendo
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="nsnes">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/ad0c3ccdc09354d93b049de0edd3cd82.png"
                                alt="">
                        </div>
                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Nintendo Nes
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="nes">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/680dc030aea5462f042ba212fc37d0d8.png"
                                alt="">
                        </div>
                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Nintendo GBA
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="gba">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/de2126a9b990548c1c93f5de4f8bc640.png"
                                alt="">
                        </div>
                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Nintendo Game Boy
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="gbac">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/6f1983c78fa68a10ac5db21a2ae64318.png"
                                alt="">
                        </div>


                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Sony PlayStation PSP
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="psp">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/85d2a760ccd3016221898219740a5e54.png"
                                alt="">
                        </div>
                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Sony PlayStation 2
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="ps2">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/dea8f4099d73382ff4eb973529375e63.png"
                                alt="">
                        </div>
                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Sony PlayStation 3
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="ps3">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/38ce1c214347c69979c48d86f8eb3a00.png"
                                alt="">
                        </div>
                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Sony PlayStation 4
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="ps4">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/59dceb194dc25b2c234936afe9e82929.png"
                                alt="">
                        </div>
                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Microsoft Xbox 360
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="xbox360">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/b64a468079ff608f1e478971284e259d.png"
                                alt="">
                        </div>
                        <div class="content-wrapper-header">
                            <div class="content-wrapper-context">
                                <h3 class="img-content">
                        
                                    Microsoft Xbox
                                </h3>
                                <div class="content-text">Grab yourself 10 free images from Adobe Stock in a 30-day free
                                    trial plan and find perfect image, that will help you with your new project.</div>
                                <button class="content-button btn_rom " data-rom="xbox">Ver roms</button>
                            </div>
                            <img class="content-wrapper-img" src="https://cdn2.steamgriddb.com/logo/8f7b143806d66d75926d2d2906a37c31.png"
                                alt="">
                        </div>
                        
                        
                        
                    </div>


                    <div class="content-section" id="main-content">

                    <div class="apps-card" id="grid-juegos">

                        
                    </div>

                    <div id="detalle-juego" class="hidden"></div>

                        <!--  -->
                    
                        <!--  -->
                    
                    </div>
                    <!-- contenido fin ----------------------------------------------------------------------------- -->
                </div>
            </div>
        </div>
        <div class="overlay-app"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="games/script/script.js"></script>


    <!-- Popup de descarga -->
    <div class="pop-up" id="popup">
        <div class="pop-up__title">
            Opciones de descarga
            <svg class="close" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M15 9l-6 6M9 9l6 6"></path>
            </svg>
        </div>
    
        <div class="pop-up__subtitle" id="popup-download-options">
            <!-- Aquí se inyectarán los botones de descarga -->
        </div>
    
        <div class="content-button-wrapper">
            <button class="content-button status-button open close">Cancelar</button>
        </div>
    </div>
   

    
</body>
</html>

<style>
  /* CSS */
    .content-section {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeSlideIn 0.8s ease-out forwards;
    }

    @keyframes fadeSlideIn {
    to {
        opacity: 1;
        transform: translateY(0);
    }
    }

    div#popup-download-options {
        max-height: 250px;
        overflow: auto;
    }
    h1 {
        text-align: center;
    }

    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        gap: 20px;
    }

    .app-card img {
        width: 100%;
        border-radius: 15px 15px 0 0;
        height: 200px;
        object-fit: cover;
        mask-image: linear-gradient(#000000 70%, #fb000000);
        transition: transform 0.3s ease; 

    }

    .app-card__subtext {
        margin: 5px 10px 0 10px;
        font-weight: bold;
        font-size: 16px;
        position: relative;
        display: flex
;
    justify-content: space-between;
    }

    .app-card-buttons {
        margin-top: 10px;
    }


    .ext-card {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        align-items: center;
    }

    .ext-card img {
        width: 350px;
        border-radius: 10px;
        height: 530px;
        object-fit: cover;
    }

    .conte-card {
        flex: 1;
            
        max-height: 550px;
        overflow: auto;
    }

    .title-card h2 {
        margin: 0 0 10px;
    }

    .desc-card p {
        margin: 0;
    }

    .manu-card {
        margin-top: 20px;
        background-color: rgba(255, 255, 255, 0.158);
        padding: 15px;
        border-radius: 10px;
        white-space: pre-line;
        /*max-height: 190px;
        overflow: auto;*/
    }

    .down-card {
        margin-top: 15px;
    }

    .hidden {
        display: none;
    }

.profile-menu {
  position: relative;
  display: inline-block;
}

.profile-img {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  cursor: pointer;
  border: 2px solid #fff;
}
.dropdown-menu {
  position: absolute;
  top: 40px;
  right: 0;
  background-color:var(--popup-bg);
  min-width: 160px;
  border-radius: 8px;
  box-shadow: 0 8px 16px rgba(0,0,0,0.3);
  z-index: 999;
  padding: 10px 0;
  
  opacity: 0;
  transform: translateY(-10px);
  pointer-events: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.dropdown-menu.visible {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}
.dropdown-menu a,
.dropdown-menu .user-name {
  color: var(--theme-color);
  padding: 10px 20px;
  display: block;
  text-decoration: none;
  font-size: 14px;
}

.dropdown-menu a:hover {
  background-color: var(--content-bg);
}

.dropdown-menu .user-name {
  font-weight: bold;
  border-bottom: 1px solid #444;
  margin-bottom: 5px;
}

</style>
<script>
    mainWindow.webContents.on('did-finish-load', () => {
            mainWindow.webContents.executeJavaScript(`
            if (!document.getElementById('download-progress')) {
                const wrapper = document.createElement('div');
                wrapper.id = 'download-progress';
                wrapper.style = \`
                    position: fixed;
                    bottom: 20px;
                    left: 20px;
                    width: 90%;
                    height: 20px;
                    background: #eee;
                    border-radius: 10px;
                    overflow: hidden;
                    display: none;
                    z-index: 9999;
                    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
                \`;

                const bar = document.createElement('div');
                bar.id = 'progress-bar';
                bar.style = \`
                    height: 100%;
                    width: 0%;
                    background: #4caf50;
                    transition: width 0.2s ease;
                \`;

                wrapper.appendChild(bar);
                document.body.appendChild(wrapper);
            }
        `);
        });
</script>



<style>
    .card {
  width: fit-content;
  height: 320px;
  background: var(--popup-bg);
  box-shadow: 0px 1px 32px 8px rgba(0, 0, 0, 0.05);
  border-radius: 0.875rem;
  padding: 1.5rem;
  
  overflow: auto;
  z-index: 9999;
  --delay: 150ms;
    position: absolute;
    transition: all 0.3s ease;
    top: 60px;
    right: 0;

}

.messages {
  width: 280px;
}

.message {
  width: 280px;
  border: 1.5px solid rgba(0, 0, 0, 0.08);
  border-radius: 0.5rem;
  padding: 1rem 1.25rem;
  display: flex;
  gap: 1rem;
  transform: scale(0);
  height: 0;
  box-shadow: 0px 4px 16px 8px rgba(0, 0, 0, 0.03);
  animation: show-message 200ms forwards;
  transform-origin: top center;
  visibility: hidden;
  transition: all 0.2s ease-in-out;
  cursor: pointer;
  overflow: hidden;
    background-color: var(--content-bg);
    color: var(--theme-color);
}

.message:hover {
  box-shadow: 0px 3px 16px 8px rgba(0, 0, 0, 0.07);
  transform: translateY(-2px) scale(1.1);
}

.message-icon {
  background: linear-gradient(180deg, rgb(242, 124, 40), rgb(255, 69, 243));
  width: 2.5rem;
  height: 2.5rem;
  min-width: 2.5rem;
  min-height: 2.5rem;
  border-radius: 1rem;
}

.message:nth-child(1) {
  animation-delay: calc(4 * var(--delay));
}

.message:nth-child(2) {
  animation-delay: calc(3 * var(--delay));
}

.message:nth-child(3) {
  animation-delay: calc(2 * var(--delay));
}

.message:nth-child(4) {
  animation-delay: var(--delay);
}

.message:nth-child(2) .message-icon {
  background: linear-gradient(180deg, rgb(242, 124, 40), rgb(255, 69, 243));
}

.message:nth-child(3) .message-icon {
  background: linear-gradient(90deg, rgb(242, 212, 40), rgb(255, 56, 56));
}

.message:nth-child(4) .message-icon {
  background: linear-gradient(45deg, rgb(70, 197, 255), rgb(64, 64, 255));
}

.message:nth-child(5) .message-icon {
  background: linear-gradient(45deg, rgb(247, 158, 85), rgb(231, 38, 249));
}

.message-info {
  display: flex;
  flex-direction: column;
}

.message-header {
  display: flex;
  flex-direction: row;
  align-items: flex-end;
  line-height: 1;
  user-select: none;
  -webkit-user-select: none;
}

.message-title {
  font-size: 1rem;
  font-weight: 600;
}

.message-time {
  font-size: 0.875rem;
  color: #454545;
}

.message-time::before {
  content: "•";
  margin: 0 0.25rem;
  font-size: 0.875rem;
  color: #454545;
}

.message-content {
  margin-top: 0.5rem;
  line-height: 1;
  text-overflow: ellipsis;
  white-space: wrap;
  font-weight: 300;
}

@keyframes show-message {
  0% {
    transform: scale(0);
    margin-bottom: 0;
    visibility: visible;
  }
  100% {
    transform: scale(1);
    height: 100%;
    margin-bottom: 1rem;
    visibility: visible;
  }
}
.notification{
    cursor: pointer;
    margin: 0 0 0 20px;
}
</style>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Selecciona todos los enlaces <a>
        const enlaces = document.querySelectorAll("a");

        enlaces.forEach((a) => {
            const href = a.getAttribute("href");
            if (href && href.startsWith("magnet:")) {
                a.addEventListener("click", (e) => {
                    e.preventDefault(); // Evita la acción por defecto
                    window.api.iniciarDescarga(href);
                });
            }
        });

        // Escucha el progreso
        window.api.onProgreso((linea) => {
            document.getElementById("progreso-texto").textContent += linea + "\n";

            const match = linea.match(/(\d{1,3})\s*%/);
            if (match) {
                const porcentaje = parseInt(match[1]);
                const barra = document.getElementById("barra-progreso");
                barra.style.width = porcentaje + "%";
                barra.textContent = porcentaje + "%";
            }
        });
    });
</script>

<!-- funcion de historial de descargas -->
<script>
    document.getElementById('download-notification').addEventListener('click', () => {
            // Ocultar la sección principal de contenido
            document.querySelector('.content-section').style.display = 'none';

            // Mostrar el historial de descargas
            document.getElementById('download-history').style.display = 'block';
        });

        document.querySelectorAll('.categoria-link').forEach(button => {
                button.addEventListener('click', () => {
                    // Restaurar la vista inicial
                    document.querySelector('.content-section').style.display = 'block';

                    // Ocultar el historial de descargas
                    document.getElementById('download-history').style.display = 'none';
                });
            });


        // Función para agregar una nueva descarga al historial
        function addToDownloadHistory(filename, state, downloadId, isInProgress = false) {
                const historyContent = document.getElementById('history-content');
                const downloadEntry = document.createElement('div');
                downloadEntry.className = 'download-entry';
                downloadEntry.dataset.id = downloadId;

                downloadEntry.innerHTML = `
        <p><strong>${filename}</strong><span class="status-text">${state}</span></p>
        <div class="progress-wrapper" style="display: ${isInProgress ? 'block' : 'none'};">
            <div style="height: 6px; background: #444; border-radius: 5px; overflow: hidden; margin-top: 5px;">
                <div class="progress-bar" style="height: 100%; width: 0%; background: #32a6ff;"></div>
            </div>
            <div class="progress-text" style="font-size: 12px; text-align: right;">0%</div>
            <div class="progress-error" style="color: red; font-size: 12px; display: none;"></div>
        </div>
        <div class="controls" style="margin-top: 5px;">
            <button class="btn-xd" onclick="window.electronAPI.togglePause('${downloadId}')">⏸️</button>
            <button class="btn-xd" onclick="window.electronAPI.cancelDownload('${downloadId}')">❌</button>
        </div>
    `;
                historyContent.appendChild(downloadEntry);
            }


        // Función para abrir un archivo descargado
        function openDownload(downloadId) {
            // Llamar a la función para abrir el archivo (implementada en el código de Electron)
            window.electronAPI.openFile(downloadId);
        }

        // Función para eliminar un historial de descarga
        function removeDownload(downloadId) {
            // Aquí podrías eliminar la entrada visual o cancelar el archivo si está en progreso
            const entry = document.querySelector(`#download-history .download-entry[data-id='${downloadId}']`);
            if (entry) entry.remove();
        }

</script>
<!-- fin -->

<!-- contador de descargas -->
 <script>
    function updateDownloadCount(count) {
        const badge = document.querySelector('.notification-number');
        if (badge) {
            badge.textContent = count;
            badge.style.display = count > 0 ? '' : '';
        }
    }
</script>

 <!-- fin -->



<script>
    const dragArea = document.getElementById('drag-area');

    dragArea.addEventListener('mousedown', (event) => {
        const { x, y } = mainWindow.getBounds(); // Posición actual de la ventana

        const offsetX = event.clientX;
        const offsetY = event.clientY;

        const onMouseMove = (moveEvent) => {
            const newX = x + moveEvent.clientX - offsetX;
            const newY = y + moveEvent.clientY - offsetY;
            mainWindow.setBounds({ x: newX, y: newY });
        };

        const onMouseUp = () => {
            document.removeEventListener('mousemove', onMouseMove);
            document.removeEventListener('mouseup', onMouseUp);
        };

        document.addEventListener('mousemove', onMouseMove);
        document.addEventListener('mouseup', onMouseUp);
    });
</script>
<script>
    document.getElementById('btn-devtools').addEventListener('click', () => {
            window.electronAPI.openDevTools();
        });

</script> 
<!-- <a id="menu-rom">Ir a ROMs</a> -->

<script>
   // Mostrar el panel de configuración de ROMs
    document.getElementById("menu-rom").addEventListener("click", function (e) {
        e.preventDefault();

        // Ocultar el contenido principal si es necesario
        document.getElementById("main-content").style.display = "none";
        document.querySelector(".manuela").style.display = "flex";

        // Mostrar panel de configuración de ROMs
        document.getElementById("rom-fum").style.display = "block";

        // Ocultar webviews por defecto
        document.querySelectorAll(".view-rom").forEach(v => v.style.display = "none");
    });

    // Manejo dinámico de botones para mostrar las ROMs correspondientes
    const botones = document.querySelectorAll(".btn_rom");
    const vistas = document.querySelectorAll(".view-rom");
    const manuela = document.querySelector(".manuela");

    botones.forEach((boton) => {
        boton.addEventListener("click", (e) => {
            e.preventDefault();
            const targetRom = boton.getAttribute("data-rom");

            // Ocultar todas las vistas de roms
            vistas.forEach(v => v.style.display = "none");

            // Mostrar solo la correspondiente
            const mostrar = document.getElementById(`rom-${targetRom}`);
            if (mostrar) mostrar.style.display = "flex";

            // Ocultar la sección "manuela"
            if (manuela) manuela.style.display = "none";
        });
    });

    // Volver a la vista principal
    document.querySelectorAll(".volver-btn").forEach(function (btn) {
        btn.addEventListener("click", function (e) {
            e.preventDefault();

            // Ocultar el panel de ROMs
            document.getElementById("rom-fum").style.display = "none";

            // Mostrar elementos principales
            document.getElementById("main-content").style.display = "block";
            document.querySelector(".manuela").style.display = "none";

            // Ocultar todos los webviews
            document.querySelectorAll(".view-rom").forEach(v => v.style.display = "none");
        });
    });

    const webviews = document.querySelectorAll('.view-rom');

    webviews.forEach((webview) => {
        webview.addEventListener('did-finish-load', () => {
            const customCSS = `
     <style>
      .bg-light.py-2 {
    display: none;
}
    section.bg-white.border.rounded.shadow-sm.pt-3.px-4.pb-2.mb-4 {
    display: none;
}
    .footer-nav {
    background-color: #EB144C;
    display: none;
}
    .footer-copyright {
    background-color: #DA154A;
    display: none;
}
    .layout-switch {
    border: 1px solid black;
    border-radius: 6px;
    display: none;
}
    .btn-sm {
    font-size: 0.75rem;
    display: none;
}
    .row {
    display: -ms-flexbox;
    display: flex
;
    -ms-flex-wrap: wrap;
    margin-right: 0;
    margin-left: 0;
    flex-wrap: wrap;
}
    @media (min-width: 768px) {
    .container {
        max-width: none; */
    }
}
@media (min-width: 576px) {
    .container {
        max-width: none;
    }
}
.container {
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;
}
    .entry-content {
    text-align: justify;
    display: none;
}
    .pl-3 {
    padding-left: 1rem !important;
    display: none;
}
    section.related-roms {
    display: none;
}
    ins.adsbygoogle {
    position: fixed;
}

.btn-danger {
    color: #fff;
    background-color: #dc3545;
    border-color: #dc3545;
    display: none;
}
    .bg-light {
    background-color: #ff000000;
}
    .bg-light {
    background-color: #ffffff00 !important;
}
    section.bg-white.border.rounded.shadow-sm.pt-3.px-3.mb-4 {
    display: none;
}
    .alert.alert-success {
    display: none;
}
    .help-block.d-flex.justify-content-between.align-items-center.px-3.py-2.bg-white.my-4.rounded {
    /* background: #ff000000; */
    display: none !important;
}
    .filter-row {
    display: none;
}
    li.filter-row.bg-primary.mb-2 {
    display: block;
}
    #masthead {
  display: none;
}
 body {
    color: var(--theme-color);
}
    html {
    scrollbar-width: none;
}
    .tech-info.d-flex.flex-row.align-items-center.justify-content-around {
    display: none !important;
}

/*juegos--------------------*/
.archive-cover-container img {
    width: 100%;
    height: 170px;
    object-fit: cover;
    mask-image: linear-gradient(#000000 70%, #fb000000);
    border-radius: 6px 6px 0 0;
}
   .p-3 {
    padding: 5px !important;
    /* color: var(--theme-color); */
    border: 2px solid var(--theme-bg-color) !important;
}
    .text-body {
    color: var(--theme-color) !important;
    position: absolute;
    bottom: 23px;
    margin-left: 10px;
}
    .genres-info {
    font-size: 11px;
    display: flex
;
    margin-left: 10px;
}
    a.border:hover, .archive-container:hover {
    border-color: #9191914f !important;
    scale: 1.1;
}
    a.border:hover, .archive-container {
        transition: all 0.3s ease;
}


/*theme */
.table {
    width: 100%;
    margin-bottom: 1rem;
    color: var(--theme-color);
}
    .text-primary {
    color: var(--theme-color) !important;
}
    .table {
    width: 100%;
    margin-bottom: 1rem;
    color: var(--theme-color);
}
.filters .dropfilter .filter_btn {
    width: 100%;
    box-sizing: border-box;
    background: var(--popup-bg);
    border: #8d8d8d78;
    border-radius: 6px;
    cursor: pointer;
    display: flex
;
    margin: 0;
    opacity: 1;
    padding: 8px 14px;
    position: relative;
    justify-content: space-between;
    align-items: center;
    transition: all .2s ease 0s;
}
    .filters .dropfilter .dropdown-filter-content {
    background: var(--popup-bg);
    border: 1px solid #85858500;
    border-radius: 8px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
    padding: 0;
    display: none;
    right: 0;
    width: 100%;
    max-width: 100%;
    overflow: visible;
    position: absolute;
    top: 46px;
    z-index: 99999;
}
    .btn-primary, .btn-primary:not(:disabled):not(.disabled):active:focus {
    color: #fff;
    background-color: var(--content-bg);
    border-color: #818181;
}
.mb-2 strong,  .px-2 {
    display: none;
}
    .bg-white {
    background-color: var(--content-bg) !important;
}
 :root {
     --theme-bg-color: rgba(16 18 27 / 40%);
     --border-color: rgba(113 119 144 / 25%);
     --theme-color: #f9fafb;
     --inactive-color: rgb(113 119 144 / 78%);
     --body-font: "Poppins", sans-serif;
     --hover-menu-bg: rgba(12 15 25 / 30%);
     --content-title-color: #999ba5;
     --content-bg: rgb(146 151 179 / 13%);
     --button-inactive: rgb(249 250 251 / 55%);
     --dropdown-bg: #21242d;
     --dropdown-hover: rgb(42 46 60);
     --popup-bg: rgb(22 25 37);
     --search-bg: #14162b;
     --overlay-bg: rgba(36, 39, 59, 0.3);
     --scrollbar-bg: rgb(1 2 3 / 40%);
 }

 .light-mode {
     --theme-bg-color: rgb(255 255 255 / 31%);
     --theme-color: #3c3a3a;
     --inactive-color: #333333;
     --button-inactive: #3c3a3a;
     --search-bg: rgb(255 255 255 / 31%);
     --dropdown-bg: #f7f7f7;
     --overlay-bg: rgb(255 255 255 / 30%);
     --dropdown-hover: rgb(236 236 236);
     --border-color: rgb(255 255 255 / 35%);
     --popup-bg: rgb(255 255 255);
     --hover-menu-bg: rgba(255 255 255 / 35%);
     --scrollbar-bg: rgb(255 253 253 / 57%);
     --content-title-color: --theme-color;
 }
    </style>
    `;

            webview.executeJavaScript(`
      const styleTag = document.createElement('div');
      styleTag.innerHTML = \`${customCSS}\`;
      document.head.appendChild(styleTag);
    `);
        });
    });


    webview.addEventListener('dom-ready', () => {
        const script = `
    function aplicarTema(theme) {
      const body = document.body;
      body.className = '';

      if (theme === 'dark') {
        body.classList.add('light-theme');
      } else if (theme === 'light') {
        body.classList.add('light-theme', 'light-mode');
      }
    }
  `;
        webview.executeJavaScript(script);
    });

</script>
<script>
    // Abrir DevTools solo para el webview
    document.getElementById('btn-devtools-rom-n64').addEventListener('click', () => {
        const webview = document.getElementById('rom-n64');
        webview.openDevTools();  // Abre la consola del webview
    });
</script>

<script>
    const btnVolver = document.getElementById('volver');
    const btnVolver2 = document.getElementById('volver2');

    // Función para actualizar los botones según si se puede volver atrás
    function actualizarBotones(webview) {
        const canGoBack = webview.canGoBack();

        // Mostrar el botón "volver" si se puede ir atrás, y ocultar el otro
        btnVolver.style.display = canGoBack ? 'inline-block' : 'none';
        btnVolver2.style.display = canGoBack ? 'none' : 'block';
    }

    // Cuando se hace clic en el botón "volver", se navega hacia atrás en el historial si es posible
    btnVolver.addEventListener('click', () => {
        webviews.forEach(webview => {
            if (webview.canGoBack()) {
                webview.goBack();  // Vuelve a la página anterior si es posible
            }
        });
    });

    // Opcional: Habilita o desactiva el botón según si hay historial atrás en cada webview
    webviews.forEach(webview => {
        webview.addEventListener('did-navigate', () => {
            actualizarBotones(webview); // Actualiza los botones cada vez que el webview navega
        });
    });

    // Asegúrate de que al cargar la página los botones se actualicen según el estado inicial
    webviews.forEach(webview => {
        actualizarBotones(webview);
    });
</script>


<style>
    #loader {
         position: absolute;
        top: 0;
        left: 0;
        width: 108%;
        height: 100%;
        background: var(--popup-bg);
        display: flex
    ;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        z-index: 999;
        filter: blur(1px);
        margin: -40px;
    }
#loader,
webview {
    transition: opacity 0.5s ease;
}

.hidden-out {
    opacity: 0;
    pointer-events: none;
}


</style>

<!-- loading de webview -->
 <script>
    const loader = document.getElementById('loader');

    function actualizarBoton(webview) {
        btnVolver.style.display = webview.canGoBack() ? 'inline-block' : 'none';
    }

    webviews.forEach((webview) => {
        // Aparece de golpe al iniciar carga
        webview.style.opacity = '1';
        loader.style.opacity = '1';

        webview.addEventListener('did-start-loading', () => {
            loader.style.display = 'flex';
            loader.style.opacity = '1';
            loader.classList.remove('hidden-out');

            webview.style.display = 'none';
        });

        webview.addEventListener('did-stop-loading', () => {
            // Oculta loader con suavidad
            loader.classList.add('hidden-out');
            setTimeout(() => loader.style.display = 'none', 500); // Oculta completamente luego de la animación

            // Muestra el webview directamente
            webview.style.display = 'flex';
            actualizarBoton(webview);
        });

        webview.addEventListener('dom-ready', () => {
            actualizarBoton(webview);
        });
    });

    btnVolver.addEventListener('click', () => {
        webviews.forEach((webview) => {
            if (webview.canGoBack()) {
                webview.goBack();
            }
        });
    });
</script>

